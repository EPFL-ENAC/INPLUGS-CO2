<!DOCTYPE html>
<html lang="{{ locale or 'en' }}"
      dir="{% if rtl %}rtl{% else %}ltr{% endif %}">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>{{ t("site.name") or title or 'INPLUGS CO2' }}</title>
        {% include "meta.njk" %}
        <link rel="stylesheet" href='{{ asset("/assets/styles/00-reset.css") }}' />
        <link rel="stylesheet" href='{{ asset("/assets/styles/01-tokens.css") }}' />
        <link rel="stylesheet" href='{{ asset("/assets/styles/02-layout.css") }}' />
        <link rel="stylesheet"
              href='{{ asset("/assets/styles/03-utilities.css") }}' />
        <link rel="stylesheet"
              href='{{ asset("/assets/styles/04-components.css") }}' />
        {% if not allowIndexing %}
            <meta name="robots" content="noindex,nofollow">
        {% else %}
            <link rel="canonical" href="{{ hostname }}{{ pagePath }}">
            {% for l in alternates %}
                <link rel="alternate"
                      hreflang="{{ l }}"
                      href="{{ getLocalizedUrl(currentPage, l) }}">
            {% endfor %}
            <link rel="alternate"
                  hreflang="x-default"
                  href="{{ getLocalizedUrl(currentPage, defaultLocale) }}">
        {% endif %}
    </head>
    <body {% if themeColor %}style="--page-theme-color: {{ themeColor }};"{% endif %}>
        {# <h1>{{ t("title") or title or 'INPLUGS CO2' }}</h1> #}
        {% include "header.njk" %}
        <main class="container">
            {% block content %}{% endblock %}
        </main>
        {# {% include "footer.njk" %} #}
        {# <img src='{{ asset("/assets/images/logo.svg")}}'
      width="400"
      style="margin-top: 1.5rem"> #}
        <script>
    /*
     * Font loading: Critical FOFT with preload for Archivo
     * Implementation based on Zach Leatherman's comprehensive webfont strategy
     * Source: https://www.zachleat.com/web/comprehensive-webfonts/#critical-foft-with-preload
     */
    (function() {
      if( "fonts" in document ) {
        // Optimization for Repeat Views
        if( sessionStorage.fontsLoadedArchivoFoft ) {
          document.documentElement.className += " fonts-loaded-2";
          return;
        }

        document.fonts.load("1em Archivo").then(function () {
          document.documentElement.className += " fonts-loaded-1";

          Promise.all([
            document.fonts.load("300 1em Archivo"),
            document.fonts.load("400 1em Archivo"),
            document.fonts.load("500 1em Archivo"),
            document.fonts.load("600 1em Archivo"),
            document.fonts.load("700 1em Archivo"),
            document.fonts.load("italic 300 1em Archivo"),
            document.fonts.load("italic 400 1em Archivo"),
            document.fonts.load("italic 500 1em Archivo"),
            document.fonts.load("italic 600 1em Archivo"),
            document.fonts.load("italic 700 1em Archivo")
          ]).then(function () {
            document.documentElement.className += " fonts-loaded-2";

            // Optimization for Repeat Views
            sessionStorage.fontsLoadedArchivoFoft = true;
          });
        });
      }
    })();
        </script>
    </body>
</html>
