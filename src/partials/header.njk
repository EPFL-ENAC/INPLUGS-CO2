<site-header>
  <template shadowrootmode="open">
    {% if isProduction and cssHash %}
    <link rel="stylesheet" href="/assets/styles/navbar.{{ cssHash }}.css">
    {% else %}
    <link rel="stylesheet" href="/assets/styles/navbar.css">
    {% endif %}
    <header class="nav">
      <a href="/{{ locale }}/" class="logo-link" aria-label="Go to homepage">
        <picture class="landing_page__logo">
          <!-- WebP source -->
          <source type="image/webp" srcset="/assets/images/logo/logo_inplugs_86x68.webp">
          <!-- PNG fallback -->
          <img src="/assets/images/logo/logo_inplugs_86x68.png" alt="INPLUGS Logo" width="86" height="68">
        </picture>
      </a>
      <nav>
        {% for item in navItems %}
          <a href="{{ item.path }}" {% if page.key == item.key %}aria-current="page"{% endif %}>{{ item.title }}</a>
        {% endfor %}
      </nav>
      <div class="lang">
        {% for loc in alternates %}
          {% if page.routes[loc] %}
            <a data-lang="{{ loc }}" href="{{ page.routes[loc] }}" 
               {% if locale == loc %}class="active"{% endif %}
               aria-label="Switch to {{ loc | upper }}">{{ loc | upper }}</a>
          {% endif %}
        {% endfor %}
      </div>
    </header>
  </template>
</site-header>

<script type="speculationrules">
{
  "prerender": [{
    "urls": ["/{{ locale }}/gcs", "/{{ locale }}/data", "/{{ locale }}/education"],
    "eagerness": "moderate"
  }],
  "prefetch": [{
    "where": { "selector_matches": "nav a", "href_matches": "/{{ locale }}/.+" },
    "eagerness": "conservative"
  }]
}
</script>
