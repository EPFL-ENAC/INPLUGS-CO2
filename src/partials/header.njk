<site-header>
  <template shadowrootmode="open">
    {% if isProduction and cssHash %}
    <link rel="stylesheet" href="/assets/styles/navbar.{{ cssHash }}.css">
    {% else %}
    <link rel="stylesheet" href="/assets/styles/navbar.css">
    {% endif %}
    <header class="nav">
      <a href="/{{ locale }}/" class="logo-link" aria-label="Go to homepage">
        <picture class="landing_page__logo">
          <!-- WebP source -->
          <source type="image/webp" srcset="/assets/images/logo/logo_inplugs_86x68.webp">
          <!-- PNG fallback -->
          <img src="/assets/images/logo/logo_inplugs_86x68.png" alt="INPLUGS Logo" width="86" height="68">
        </picture>
      </a>
      <nav>
        {% for item in navItems %}
          <a href="{{ item.path }}" {% if page.key == item.key %}aria-current="page"{% endif %}>{{ item.title }}</a>
        {% endfor %}
      </nav>
      <div class="lang">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512" aria-hidden="true">
          <path d="M349 149q3 25 3 43t-3 43h72q6 -23 6 -43t-6 -43h-72zM311 31q19 35 30 76h63q-16 -27 -39.5 -46.5t-53.5 -29.5zM306 149h-100q-3 23 -3 43t3 43h100q3 -25 3 -43t-3 -43zM256 22q-28 41 -41 85h82q-13 -44 -41 -85zM171 277h-63q16 27 39.5 46.5t53.5 29.5q-18 -33 -30 -76zM108 107h63q12 -43 30 -76q30 10 -53.5 29.5t-39.5 46.5zM91 149q-6 23 -6 43t6 43h72q-3 -25 -3 -43t3 -43h-72zM256 362q28 -41 41 -85h-82q13 44 41 85zM404 277h-63q-11 41 -30 76q30 -10 53.5 -29.5t39.5 -46.5zM256 405q-58 0 -107 -28.5t-77.5 -77.5t-28.5 -107q0 -42 16 -81.5t46 -69.5t69.5 -46t81.5 -16t81.5 16t69.5 46t46 69.5t16 81.5t-16 81.5t-46 69.5t-69.5 46t-81.5 16z" />
        </svg>
        {% for loc in alternates %}
          {% if page.routes[loc] %}
            <a data-lang="{{ loc }}" href="{{ page.routes[loc] }}" 
               {% if locale == loc %}class="current"{% endif %}
               {% if locale != loc %}class="alternate"{% endif %}
               aria-label="Switch to {{ loc | upper }}">{{ loc | upper }}</a>
          {% endif %}
        {% endfor %}
      </div>
    </header>
  </template>
</site-header>

<script type="speculationrules">
{
  "prerender": [{
    "urls": ["/{{ locale }}/gcs", "/{{ locale }}/data", "/{{ locale }}/education"],
    "eagerness": "moderate"
  }],
  "prefetch": [{
    "where": { "selector_matches": "nav a", "href_matches": "/{{ locale }}/.+" },
    "eagerness": "conservative"
  }]
}
</script>
